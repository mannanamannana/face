<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Premium Camera Peel</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}

body{
  background:#000;
  overflow:hidden;
  height:100vh;
}

/* Camera */
video{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  object-fit:cover;
}

/* ðŸ”¥ Premium Peel Above Buttons */
#peel{
  position:fixed;
  bottom:120px; /* floats above buttons */
  left:50%;
  transform:translateX(-50%);
  width:80%;
  max-width:700px;
  height:90px; /* slimmer */
  border-radius:50px;
  background:rgba(0,0,0,0.25);
  backdrop-filter:blur(35px);
  -webkit-backdrop-filter:blur(35px);
  border:1px solid rgba(255,255,255,0.15);
  transition:all 0.3s ease;
  z-index:10;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
  display:flex;
  align-items:center;
  justify-content:flex-start;
  padding:0 20px;
  gap:15px;
  overflow-x:auto;
}

/* Hover / Press effect */
#peel:hover,
#peel.active{
  transform:translateX(-50%) scale(1.05);
  background:rgba(0,0,0,0.35);
}

/* Controls Container */
#controls{
  position:fixed;
  bottom:35px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  align-items:center;
  justify-content:space-between;
  width:90%;
  max-width:600px;
  z-index:20;
}

/* Generic Button Style */
.button{
  width:60px;
  height:60px;
  border-radius:50%;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(15px);
  border:1px solid rgba(255,255,255,0.35);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:.2s;
}

.button:active{
  transform:scale(0.9);
}

.button svg{
  width:28px;
  height:28px;
  stroke:#fff;
  stroke-width:2;
  fill:none;
}

/* Record */
#record-dot{
  width:20px;
  height:20px;
  border-radius:50%;
  background:#fff;
}

/* Shutter */
#capture{
  width:85px;
  height:85px;
  border-radius:50%;
  background:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:.15s;
}

#capture:active{
  transform:scale(0.9);
}

#capture-inner{
  width:65px;
  height:65px;
  border-radius:50%;
  border:4px solid #000;
}

/* Hairstyle placeholders */
.hairstyle{
  min-width:70px;
  height:70px;
  border-radius:20px;
  background:rgba(255,255,255,0.1);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  flex-shrink:0;
  transition:.2s;
}

.hairstyle:hover{
  transform:scale(1.1);
  background:rgba(255,255,255,0.2);
}
</style>
</head>

<body>

<video id="video" autoplay playsinline muted></video>

<!-- Peel Above Buttons -->
<div id="peel">
  <!-- Empty hairstyle placeholders -->
  <div class="hairstyle"></div>
  <div class="hairstyle"></div>
  <div class="hairstyle"></div>
  <div class="hairstyle"></div>
  <div class="hairstyle"></div>
</div>

<div id="controls">

<!-- Upload -->
<div id="upload" class="button">
  <svg viewBox="0 0 24 24">
    <path d="M12 16V4"/>
    <path d="M5 11l7-7 7 7"/>
    <path d="M5 20h14"/>
  </svg>
</div>

<!-- Record -->
<div id="record" class="button">
  <div id="record-dot"></div>
</div>

<!-- Shutter -->
<div id="capture">
  <div id="capture-inner"></div>
</div>

<!-- Switch Camera -->
<div id="switch-camera" class="button">
  <svg viewBox="0 0 24 24">
    <path d="M3 12a9 9 0 0 1 15-6"/>
    <path d="M21 12a9 9 0 0 1-15 6"/>
    <polyline points="3 3 3 9 9 9"/>
    <polyline points="21 21 21 15 15 15"/>
  </svg>
</div>

<!-- Share -->
<div id="share" class="button">
  <svg viewBox="0 0 24 24">
    <path d="M4 12v-4a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v4"/>
    <path d="M16 8l-4 4-4-4"/>
    <path d="M12 16v4"/>
  </svg>
</div>

</div>

<script>
const video = document.getElementById("video");
let currentStream;
let usingFrontCamera = true;

async function startCamera(){
  if(currentStream){
    currentStream.getTracks().forEach(track=>track.stop());
  }

  try{
    const stream = await navigator.mediaDevices.getUserMedia({
      video:{ facingMode: usingFrontCamera ? "user" : "environment" },
      audio:true
    });

    video.srcObject = stream;
    currentStream = stream;

  }catch(err){
    alert("Camera access denied or unavailable.");
    console.error(err);
  }
}

startCamera();

/* Switch Camera */
document.getElementById("switch-camera").addEventListener("click",()=>{
  usingFrontCamera = !usingFrontCamera;
  startCamera();
});

/* Capture */
document.getElementById("capture").addEventListener("click",()=>{
  const canvas = document.createElement("canvas");
  canvas.width = video.videoWidth;
  canvas.height = video.videoHeight;
  const ctx = canvas.getContext("2d");
  ctx.drawImage(video,0,0);

  const link = document.createElement("a");
  link.download = "photo.png";
  link.href = canvas.toDataURL();
  link.click();
});

/* Record Placeholder */
document.getElementById("record").addEventListener("click",()=>{
  alert("Video recording coming next.");
});

/* Upload Placeholder */
document.getElementById("upload").addEventListener("click",()=>{
  alert("Upload coming soon.");
});

/* Share Placeholder */
document.getElementById("share").addEventListener("click",()=>{
  alert("Share coming soon.");
});

/* Peel hover/press */
const peel = document.getElementById("peel");
peel.addEventListener("mousedown",()=>peel.classList.add("active"));
peel.addEventListener("mouseup",()=>peel.classList.remove("active"));
peel.addEventListener("mouseleave",()=>peel.classList.remove("active"));
</script>

</body>
</html>
